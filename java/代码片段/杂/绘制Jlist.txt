import javax.swing.JList;
import javax.swing.JLabel;
import javax.swing.JApplet;
import javax.swing.ImageIcon;
import javax.swing.event.ListSelectionEvent;
import javax.swing.event.ListSelectionListener;
import javax.swing.DefaultListModel;
import javax.swing.ListCellRenderer;
import javax.swing.JScrollPane;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Component;
public class Applet extends JApplet
{
	private JList list;
	private JLabel display;
	private DefaultListModel model; 
	private String[] picture={"picture1","]picture2","picture3","picture4","picture5"};
	private ImageIcon[] icon=new ImageIcon[picture.length];
	private ImageIcon[] smallIcon=new ImageIcon[picture.length];
	
	public Applet()
	{
		icon[0]=new ImageIcon(this.getClass().getResource("p1.jpg"));
		icon[1]=new ImageIcon(this.getClass().getResource("p2.jpg"));
		icon[2]=new ImageIcon(this.getClass().getResource("p3.jpg"));
		icon[3]=new ImageIcon(this.getClass().getResource("p4.jpg"));
		icon[4]=new ImageIcon(this.getClass().getResource("p5.jpg"));
		
		model=new DefaultListModel();
		for(int i=0;i<picture.length;i++)
			model.addElement(new Object[]{icon[i],picture[i]});
		list=new JList(model);
		
		list.setSelectionMode(javax.swing.DefaultListSelectionModel.SINGLE_SELECTION);
		
		MyListCellRenderer renderer=new MyListCellRenderer();
		list.setCellRenderer(renderer);
		
		display=new JLabel(icon[0]);
		
		this.add(new JScrollPane(list),BorderLayout.WEST);
		this.add(display,BorderLayout.CENTER);
		list.addListSelectionListener(
		                                    new ListSelectionListener()
											{
												public void valueChanged(ListSelectionEvent e)
												{
													int index=list.getSelectedIndex();
													display.setIcon(icon[index]);
												}
											}
		                             );
	}
	private class MyListCellRenderer implements	 ListCellRenderer
	{
		private JLabel label;
		//private Border lineBorder=BorderFactort.createLineBorder(Color.BLACK,1);	
		public Component getListCellRendererComponent(JList list,
                                                   Object value,
                                                   int index,
                                                   boolean isSelected,
                                                   boolean cellHasFocus) 
		{
			label=new JLabel();
			Object[] pair=(Object[])value;
		    label.setOpaque(true);
			label.setIcon((ImageIcon)pair[0]);
			label.setText(pair[1].toString());
			if(isSelected)
			{
				label.setForeground(list.getSelectionForeground());
				label.setBackground(list.getSelectionBackground());
			}
			
			return label;
		}
	}	
}
